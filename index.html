<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundamentals Progress Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #457b9d;
            min-height: 100vh;
            padding: 15px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .legend {
            background: white;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .legend h2 {
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #333;
            text-align: center;
        }

        .legend-items {
            display: flex;
            gap: 25px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-box {
            width: 35px;
            height: 35px;
            border: 2px solid #ccc;
            border-radius: 5px;
        }

        .legend-box.unknown {
            background: white;
            border-color: #ccc;
        }

        .legend-box.familiar {
            background: #a8dadc;
            border-color: #457b9d;
        }

        .legend-box.know {
            background: #1d3557;
            border-color: #1d3557;
        }

        .trackers-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .tracker {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            position: relative;
        }

        .tracker-header {
            margin-bottom: 10px;
        }

        .tracker-title {
            font-size: 1.5em;
            color: #1d3557;
            margin-bottom: 8px;
            text-align: center;
        }

        .reset-link {
            position: absolute;
            top: 15px;
            right: 15px;
            color: #e63946;
            text-decoration: none;
            font-size: 0.9em;
            font-weight: 500;
            cursor: pointer;
        }

        .reset-link:hover {
            text-decoration: underline;
        }

        .tracker-stats {
            background: #f1faee;
            padding: 8px;
            border-radius: 6px;
            margin-bottom: 12px;
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            font-size: 0.95em;
        }

        .stat-number {
            font-weight: bold;
            color: #1d3557;
            font-size: 1.2em;
        }

        .grid {
            display: grid;
            gap: 7px;
            margin-bottom: 10px;
            transform: scale(0.85);
            transform-origin: center top;
        }

        .grid-4x4 {
            grid-template-columns: repeat(4, 1fr);
        }

        .grid-5x4 {
            grid-template-columns: repeat(5, 1fr);
        }

        .skill-card {
            background: white;
            border: 2px solid #ccc;
            border-radius: 8px;
            padding: 10px;
            min-height: 85px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .skill-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .skill-card:active {
            transform: translateY(0);
        }

        .skill-card.state-unknown {
            background: white;
            border-color: #ccc;
        }

        .skill-card.state-familiar {
            background: #a8dadc;
            border-color: #457b9d;
        }

        .skill-card.state-know {
            background: #1d3557;
            border-color: #1d3557;
            color: white;
        }

        .skill-text {
            font-size: 0.9em;
            font-weight: 500;
            line-height: 1.3;
        }

        .report-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .report-section h2 {
            text-align: center;
            color: #1d3557;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .report-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .report-column {
            border-left: 3px solid #457b9d;
            padding-left: 15px;
            min-height: 200px;
        }

        .report-column h3 {
            color: #1d3557;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .report-tracker {
            margin-bottom: 20px;
        }

        .report-tracker-name {
            font-weight: bold;
            color: #457b9d;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .report-category {
            margin-left: 15px;
            margin-bottom: 12px;
        }

        .report-category-name {
            font-weight: 600;
            color: #1d3557;
            margin-bottom: 5px;
            font-size: 0.95em;
        }

        .report-skills {
            margin-left: 10px;
            color: #555;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .global-controls {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .control-group {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .control-label {
            font-weight: 600;
            color: #1d3557;
        }

        button {
            background: #1d3557;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s ease;
            font-weight: 500;
        }

        button:hover {
            background: #0f1e30;
        }

        button:active {
            transform: scale(0.98);
        }

        button.danger {
            background: #e63946;
        }

        button.danger:hover {
            background: #c1121f;
        }

        footer {
            text-align: center;
            color: white;
            margin-top: 20px;
            opacity: 0.8;
            font-size: 0.9em;
        }

        @media (max-width: 700px) {
            .report-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .report-column {
                border-left: none;
                border-top: 3px solid #457b9d;
                padding-left: 0;
                padding-top: 15px;
            }
        }

        @media (max-width: 900px) {
            .grid-4x4, .grid-5x4 {
                grid-template-columns: repeat(3, 1fr);
            }
            
            h1 {
                font-size: 2em;
            }
        }

        @media (max-width: 600px) {
            .grid-4x4, .grid-5x4 {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 1.5em;
            }
            
            .skill-card {
                min-height: 70px;
                padding: 8px;
            }
            
            .skill-text {
                font-size: 0.8em;
            }

            .control-group {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div style="font-size: 1.2em; margin-bottom: 5px; opacity: 0.9;">AI Coding Essentials</div>
            <h1>Progress Tracker</h1>
            <p class="subtitle">Track your progress across AI, Developer, and GitHub essentials</p>
        </header>

        <div class="legend">
            <h2>How to Use: Click each skill to track your progress</h2>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-box unknown"></div>
                    <span>I don't know this</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box familiar"></div>
                    <span>Some familiarity</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box know"></div>
                    <span>I understand this</span>
                </div>
            </div>
        </div>

        <div class="trackers-container">
            <!-- AI Essentials -->
            <div class="tracker">
                <a class="reset-link" onclick="resetTracker('ai')">Reset</a>
                <div class="tracker-header">
                    <h2 class="tracker-title">AI Essentials</h2>
                    <div class="tracker-stats">
                        <span>Unknown: <span class="stat-number" id="ai-unknown">16</span></span>
                        <span>Familiar: <span class="stat-number" id="ai-familiar">0</span></span>
                        <span>Know: <span class="stat-number" id="ai-know">0</span></span>
                    </div>
                </div>
                <div class="grid grid-4x4" id="ai-grid"></div>
            </div>

            <!-- Developer Essentials -->
            <div class="tracker">
                <a class="reset-link" onclick="resetTracker('dev')">Reset</a>
                <div class="tracker-header">
                    <h2 class="tracker-title">Developer Essentials</h2>
                    <div class="tracker-stats">
                        <span>Unknown: <span class="stat-number" id="dev-unknown">16</span></span>
                        <span>Familiar: <span class="stat-number" id="dev-familiar">0</span></span>
                        <span>Know: <span class="stat-number" id="dev-know">0</span></span>
                    </div>
                </div>
                <div class="grid grid-4x4" id="dev-grid"></div>
            </div>

            <!-- GitHub Essentials -->
            <div class="tracker">
                <a class="reset-link" onclick="resetTracker('github')">Reset</a>
                <div class="tracker-header">
                    <h2 class="tracker-title">GitHub Essentials</h2>
                    <div class="tracker-stats">
                        <span>Unknown: <span class="stat-number" id="github-unknown">20</span></span>
                        <span>Familiar: <span class="stat-number" id="github-familiar">0</span></span>
                        <span>Know: <span class="stat-number" id="github-know">0</span></span>
                    </div>
                </div>
                <div class="grid grid-5x4" id="github-grid"></div>
            </div>
        </div>

        <!-- Progress Report -->
        <div class="report-section" id="report-section">
            <div style="text-align: center; font-size: 0.9em; color: #666; margin-bottom: 5px;">AI Coding Essentials</div>
            <h2>Progress Report</h2>
            <div class="report-grid" id="report-grid"></div>
            <div style="text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid #ddd;">
                <span class="control-label" style="margin-right: 10px;">Export Report:</span>
                <button onclick="exportAsPdf()">PDF</button>
                <button onclick="exportAsJson()">JSON</button>
            </div>
        </div>

        <div class="global-controls">
            <button onclick="resetAll()" class="danger">Reset All</button>
        </div>

        <footer>
            <p>Click any skill card to cycle through: Unknown → Some Familiarity → I understand → Unknown</p>
            <p style="margin-top: 8px;">Progress is automatically saved to your browser</p>
        </footer>
    </div>

    <script>
        // Skill data with categories
        const githubSkills = [
            { name: "Create a repository", category: "Repository Basics" },
            { name: "Fork a repository", category: "Repository Basics" },
            { name: "Collaborators", category: "Repository Basics" },
            { name: "Star a Repository", category: "Repository Basics" },
            { name: ".gitignore file", category: "Version Control" },
            { name: "git add", category: "Version Control" },
            { name: "git commit", category: "Version Control" },
            { name: "git push", category: "Version Control" },
            { name: "git status", category: "Version Control" },
            { name: "View Commit History", category: "Version Control" },
            { name: "GitHub Actions", category: "GitHub Features" },
            { name: "GitHub Issues", category: "GitHub Features" },
            { name: "GitHub Pages", category: "GitHub Features" },
            { name: "GitHub Codespaces", category: "GitHub Features" },
            { name: "GitHub.dev", category: "GitHub Features" },
            { name: "GitHub Gist", category: "GitHub Features" },
            { name: "GitHub Wiki", category: "GitHub Features" },
            { name: "README file", category: "Miscellaneous" },
            { name: "Monitor Deployment", category: "Miscellaneous" },
            { name: "Encrypted Secret", category: "Miscellaneous" }
        ];

        const aiSkills = [
    { name: "Chatbot", category: "AI Tools and Platforms" },
    { name: "ChatGPT", category: "AI Tools and Platforms" },
    { name: "Claude", category: "AI Tools and Platforms" },
    { name: "Google AI Studio", category: "AI Tools and Platforms" },
    { name: "Google NotebookLM", category: "AI Tools and Platforms" },
    { name: "Google Colab", category: "AI Tools and Platforms" },
    { name: "My Chat Search", category: "AI Tools and Platforms" },

    { name: "API key", category: "AI Features" },
    { name: "Artifact", category: "AI Features" },
    { name: "Projects", category: "AI Features" },

    { name: "Prompt engineering", category: "Prompting Techniques" },
    { name: "Reverse engineering prompts", category: "Prompting Techniques" },
    { name: "Vision Prompts", category: "Prompting Techniques" },
    { name: "Structured Output Prompting", category: "Prompting Techniques" },
    { name: "Self-Checking Prompts", category: "Prompting Techniques" },
    { name: "Sequential Prompting", category: "Prompting Techniques" },

    { name: "Classification", category: "AI Tasks" },
    { name: "Entity Tagging", category: "AI Tasks" },

    { name: "Hallucinations", category: "AI Concepts" },
    { name: "Usage and Length Limits", category: "AI Concepts" },
    { name: "Human-in-the-Loop Design", category: "AI Concepts" }
]


        const devSkills = [
            { name: "Command line basics (ls, pwd, cd, mkdir, cat, cp)", category: "Command Line and Terminal" },
            { name: "Tab completion", category: "Command Line and Terminal" },
            { name: "Up and down arrows to access history", category: "Command Line and Terminal" },
            { name: "Terminal", category: "Command Line and Terminal" },
            { name: "Dev Console", category: "Command Line and Terminal" },
            { name: "Environment variables", category: "Command Line and Terminal" },
            { name: "CSV", category: "File Formats and Languages" },
            { name: "HTML", category: "File Formats and Languages" },
            { name: "JSON", category: "File Formats and Languages" },
            { name: "Markdown", category: "File Formats and Languages" },
            { name: "Python", category: "File Formats and Languages" },
            { name: "YML", category: "File Formats and Languages" },
            { name: "VS Code", category: "Programming Fundamentals" },
            { name: "Hello world", category: "Programming Fundamentals" },
            { name: "Comments", category: "Programming Fundamentals" },
            { name: "Install a module (pip)", category: "Programming Fundamentals" }
        ];

        // State arrays (0=unknown, 1=familiar, 2=know)
        let githubStates = new Array(githubSkills.length).fill(0);
        let aiStates = new Array(aiSkills.length).fill(0);
        let devStates = new Array(devSkills.length).fill(0);

        // Initialize all grids
        function initGrids() {
            initGrid('github', githubSkills, 'github-grid');
            initGrid('ai', aiSkills, 'ai-grid');
            initGrid('dev', devSkills, 'dev-grid');
            loadAllProgress();
            updateReport();
        }

        // Initialize a single grid
        function initGrid(tracker, skills, gridId) {
            const grid = document.getElementById(gridId);
            grid.innerHTML = '';
            
            skills.forEach((skill, index) => {
                const card = document.createElement('div');
                card.className = 'skill-card state-unknown';
                card.innerHTML = `<div class="skill-text">${skill.name}</div>`;
                card.onclick = () => cycleState(tracker, index);
                grid.appendChild(card);
            });
        }

        // Cycle through states
        function cycleState(tracker, index) {
            if (tracker === 'github') {
                githubStates[index] = (githubStates[index] + 1) % 3;
                updateCard('github', index, githubStates[index]);
                updateStats('github', githubStates);
            } else if (tracker === 'ai') {
                aiStates[index] = (aiStates[index] + 1) % 3;
                updateCard('ai', index, aiStates[index]);
                updateStats('ai', aiStates);
            } else if (tracker === 'dev') {
                devStates[index] = (devStates[index] + 1) % 3;
                updateCard('dev', index, devStates[index]);
                updateStats('dev', devStates);
            }
            saveAllProgress();
            updateReport();
        }

        // Update individual card
        function updateCard(tracker, index, state) {
            const gridId = tracker === 'github' ? 'github-grid' : 
                          tracker === 'ai' ? 'ai-grid' : 'dev-grid';
            const cards = document.getElementById(gridId).querySelectorAll('.skill-card');
            const card = cards[index];
            
            card.className = 'skill-card';
            
            if (state === 0) {
                card.classList.add('state-unknown');
            } else if (state === 1) {
                card.classList.add('state-familiar');
            } else {
                card.classList.add('state-know');
            }
        }

        // Update statistics
        function updateStats(tracker, states) {
            const unknown = states.filter(s => s === 0).length;
            const familiar = states.filter(s => s === 1).length;
            const know = states.filter(s => s === 2).length;
            
            document.getElementById(`${tracker}-unknown`).textContent = unknown;
            document.getElementById(`${tracker}-familiar`).textContent = familiar;
            document.getElementById(`${tracker}-know`).textContent = know;
        }

        // Update report
        function updateReport() {
            const reportGrid = document.getElementById('report-grid');
            const stateNames = ['Unknown', 'Familiar', 'I Understand'];
            
            let html = '';
            
            // Three columns: Unknown, Familiar, I Understand
            for (let state = 0; state < 3; state++) {
                html += `<div class="report-column">`;
                html += `<h3>${stateNames[state]}</h3>`;
                
                // For each tracker (AI, Developer, GitHub)
                const trackers = [
                    { name: 'AI', skills: aiSkills, states: aiStates },
                    { name: 'Developer', skills: devSkills, states: devStates },
                    { name: 'GitHub', skills: githubSkills, states: githubStates }
                ];
                
                trackers.forEach(tracker => {
                    // Group skills by category for this state
                    const categorizedSkills = {};
                    tracker.skills.forEach((skill, index) => {
                        if (tracker.states[index] === state) {
                            if (!categorizedSkills[skill.category]) {
                                categorizedSkills[skill.category] = [];
                            }
                            categorizedSkills[skill.category].push(skill.name);
                        }
                    });
                    
                    // Only show tracker if it has skills in this state
                    if (Object.keys(categorizedSkills).length > 0) {
                        html += `<div class="report-tracker">`;
                        html += `<div class="report-tracker-name">${tracker.name}</div>`;
                        
                        // Show categories
                        Object.keys(categorizedSkills).sort().forEach(category => {
                            html += `<div class="report-category">`;
                            html += `<div class="report-category-name">${category}</div>`;
                            html += `<div class="report-skills">`;
                            categorizedSkills[category].forEach(skillName => {
                                html += `• ${skillName}<br>`;
                            });
                            html += `</div></div>`;
                        });
                        
                        html += `</div>`;
                    }
                });
                
                html += `</div>`;
            }
            
            reportGrid.innerHTML = html;
        }

        // Save all progress to localStorage
        function saveAllProgress() {
            localStorage.setItem('githubProgress', JSON.stringify(githubStates));
            localStorage.setItem('aiProgress', JSON.stringify(aiStates));
            localStorage.setItem('devProgress', JSON.stringify(devStates));
        }

        // Load all progress from localStorage
        function loadAllProgress() {
            // Load GitHub
            const githubSaved = localStorage.getItem('githubProgress');
            if (githubSaved) {
                try {
                    const parsed = JSON.parse(githubSaved);
                    if (parsed.length === githubSkills.length) {
                        githubStates = parsed;
                        githubStates.forEach((state, index) => updateCard('github', index, state));
                        updateStats('github', githubStates);
                    }
                } catch (e) {
                    console.error('Failed to load GitHub progress:', e);
                }
            }

            // Load AI
            const aiSaved = localStorage.getItem('aiProgress');
            if (aiSaved) {
                try {
                    const parsed = JSON.parse(aiSaved);
                    if (parsed.length === aiSkills.length) {
                        aiStates = parsed;
                        aiStates.forEach((state, index) => updateCard('ai', index, state));
                        updateStats('ai', aiStates);
                    }
                } catch (e) {
                    console.error('Failed to load AI progress:', e);
                }
            }

            // Load Developer
            const devSaved = localStorage.getItem('devProgress');
            if (devSaved) {
                try {
                    const parsed = JSON.parse(devSaved);
                    if (parsed.length === devSkills.length) {
                        devStates = parsed;
                        devStates.forEach((state, index) => updateCard('dev', index, state));
                        updateStats('dev', devStates);
                    }
                } catch (e) {
                    console.error('Failed to load Developer progress:', e);
                }
            }
        }

        // Export as TXT
        function exportAsTxt() {
            const stateNames = ['UNKNOWN', 'FAMILIAR', 'I UNDERSTAND'];
            let txt = 'FUNDAMENTALS PROGRESS REPORT\n';
            txt += `Generated: ${new Date().toLocaleString()}\n`;
            txt += '='.repeat(60) + '\n\n';
            
            const trackers = [
                { name: 'AI', skills: aiSkills, states: aiStates },
                { name: 'DEVELOPER', skills: devSkills, states: devStates },
                { name: 'GITHUB', skills: githubSkills, states: githubStates }
            ];
            
            for (let state = 0; state < 3; state++) {
                txt += `${stateNames[state]}\n`;
                txt += '-'.repeat(60) + '\n\n';
                
                trackers.forEach(tracker => {
                    const categorizedSkills = {};
                    tracker.skills.forEach((skill, index) => {
                        if (tracker.states[index] === state) {
                            if (!categorizedSkills[skill.category]) {
                                categorizedSkills[skill.category] = [];
                            }
                            categorizedSkills[skill.category].push(skill.name);
                        }
                    });
                    
                    if (Object.keys(categorizedSkills).length > 0) {
                        txt += `${tracker.name}\n`;
                        Object.keys(categorizedSkills).sort().forEach(category => {
                            txt += `  ${category}\n`;
                            categorizedSkills[category].forEach(skillName => {
                                txt += `    • ${skillName}\n`;
                            });
                        });
                        txt += '\n';
                    }
                });
                
                txt += '\n';
            }
            
            const blob = new Blob([txt], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `fundamentals-progress-${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Export as PDF (three-column layout)
        function exportAsPdf() {
            // Create a new window with the report content
            const printWindow = window.open('', '_blank');
            const stateNames = ['Unknown', 'Familiar', 'I Understand'];
            
            let html = `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>AI Coding Essentials - Progress Report</title>
    <style>
        @page {
            size: letter;
            margin: 0.75in;
        }
        body {
            font-family: Arial, sans-serif;
            font-size: 10pt;
            margin: 0;
            padding: 20px;
        }
        .course-name {
            text-align: center;
            color: #666;
            font-size: 11pt;
            margin-bottom: 5px;
        }
        h1 {
            text-align: center;
            color: #1d3557;
            font-size: 18pt;
            margin-bottom: 10px;
            margin-top: 0;
        }
        .date {
            text-align: center;
            color: #666;
            font-size: 9pt;
            margin-bottom: 20px;
        }
        .report-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        .report-column {
            border-left: 3px solid #457b9d;
            padding-left: 10px;
        }
        .report-column h2 {
            color: #1d3557;
            font-size: 14pt;
            margin-bottom: 12px;
            margin-top: 0;
        }
        .report-tracker {
            margin-bottom: 15px;
            page-break-inside: avoid;
        }
        .report-tracker-name {
            font-weight: bold;
            color: #457b9d;
            font-size: 11pt;
            margin-bottom: 5px;
        }
        .report-category {
            margin-left: 10px;
            margin-bottom: 8px;
        }
        .report-category-name {
            font-weight: 600;
            color: #1d3557;
            font-size: 10pt;
            margin-bottom: 3px;
        }
        .report-skills {
            margin-left: 8px;
            color: #333;
            font-size: 9pt;
            line-height: 1.4;
        }
        @media print {
            body {
                padding: 0;
            }
        }
    </style>
</head>
<body>
    <div class="course-name">AI Coding Essentials</div>
    <h1>Progress Report</h1>
    <div class="date">Generated: ${new Date().toLocaleString()}</div>
    <div class="report-grid">
`;
            
            const trackers = [
                { name: 'AI', skills: aiSkills, states: aiStates },
                { name: 'Developer', skills: devSkills, states: devStates },
                { name: 'GitHub', skills: githubSkills, states: githubStates }
            ];
            
            // Three columns: Unknown, Familiar, I Understand
            for (let state = 0; state < 3; state++) {
                html += `<div class="report-column">`;
                html += `<h2>${stateNames[state]}</h2>`;
                
                trackers.forEach(tracker => {
                    const categorizedSkills = {};
                    tracker.skills.forEach((skill, index) => {
                        if (tracker.states[index] === state) {
                            if (!categorizedSkills[skill.category]) {
                                categorizedSkills[skill.category] = [];
                            }
                            categorizedSkills[skill.category].push(skill.name);
                        }
                    });
                    
                    if (Object.keys(categorizedSkills).length > 0) {
                        html += `<div class="report-tracker">`;
                        html += `<div class="report-tracker-name">${tracker.name}</div>`;
                        
                        Object.keys(categorizedSkills).sort().forEach(category => {
                            html += `<div class="report-category">`;
                            html += `<div class="report-category-name">${category}</div>`;
                            html += `<div class="report-skills">`;
                            categorizedSkills[category].forEach(skillName => {
                                html += `• ${skillName}<br>`;
                            });
                            html += `</div></div>`;
                        });
                        
                        html += `</div>`;
                    }
                });
                
                html += `</div>`;
            }
            
            html += `
    </div>
</body>
</html>
`;
            
            printWindow.document.write(html);
            printWindow.document.close();
            
            // Set the document title for PDF filename suggestion
            printWindow.document.title = 'ai-class-progress';
            
            // Wait for content to load, then trigger print dialog
            setTimeout(() => {
                printWindow.print();
            }, 250);
        }

        // Export as JSON
        function exportAsJson() {
            const stateNames = ['Unknown', 'Familiar', 'I Understand'];
            
            const data = {
                exportDate: new Date().toISOString(),
                ai: aiSkills.map((skill, index) => ({
                    skill: skill.name,
                    category: skill.category,
                    status: stateNames[aiStates[index]]
                })),
                developer: devSkills.map((skill, index) => ({
                    skill: skill.name,
                    category: skill.category,
                    status: stateNames[devStates[index]]
                })),
                github: githubSkills.map((skill, index) => ({
                    skill: skill.name,
                    category: skill.category,
                    status: stateNames[githubStates[index]]
                })),
                summary: {
                    ai: {
                        unknown: aiStates.filter(s => s === 0).length,
                        familiar: aiStates.filter(s => s === 1).length,
                        understand: aiStates.filter(s => s === 2).length
                    },
                    developer: {
                        unknown: devStates.filter(s => s === 0).length,
                        familiar: devStates.filter(s => s === 1).length,
                        understand: devStates.filter(s => s === 2).length
                    },
                    github: {
                        unknown: githubStates.filter(s => s === 0).length,
                        familiar: githubStates.filter(s => s === 1).length,
                        understand: githubStates.filter(s => s === 2).length
                    }
                }
            };
            
            const json = JSON.stringify(data, null, 2);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ai-class-progress.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Reset single tracker
        function resetTracker(tracker) {
            const trackerNames = {
                'ai': 'AI Essentials',
                'dev': 'Developer Essentials',
                'github': 'GitHub Essentials'
            };
            
            if (confirm(`Reset ${trackerNames[tracker]} to "I don't know this"?`)) {
                if (tracker === 'ai') {
                    aiStates = new Array(aiSkills.length).fill(0);
                    aiStates.forEach((state, index) => updateCard('ai', index, state));
                    updateStats('ai', aiStates);
                } else if (tracker === 'dev') {
                    devStates = new Array(devSkills.length).fill(0);
                    devStates.forEach((state, index) => updateCard('dev', index, state));
                    updateStats('dev', devStates);
                } else if (tracker === 'github') {
                    githubStates = new Array(githubSkills.length).fill(0);
                    githubStates.forEach((state, index) => updateCard('github', index, state));
                    updateStats('github', githubStates);
                }
                saveAllProgress();
                updateReport();
            }
        }

        // Reset all trackers
        function resetAll() {
            if (confirm('Reset ALL trackers to "I don\'t know this"? This cannot be undone.')) {
                githubStates = new Array(githubSkills.length).fill(0);
                aiStates = new Array(aiSkills.length).fill(0);
                devStates = new Array(devSkills.length).fill(0);
                
                initGrids();
                
                updateStats('github', githubStates);
                updateStats('ai', aiStates);
                updateStats('dev', devStates);
                
                saveAllProgress();
                updateReport();
            }
        }

        // Initialize on page load
        window.onload = initGrids;
    </script>
</body>
</html>
